
{% load static %}

{% if not user.is_authenticated %}
<div class="pong-background">
    <div class="pong-field">
        <div class="pong-paddle pong-paddle-left"></div>
        <div class="pong-paddle pong-paddle-right"></div>
        <div class="pong-ball"></div>
    </div>
</div>  
<section class="flex-container">
    <h1><a class="neongreen" href="/#/login">SIGN IN!</a></h1>
    <h1 class="neonbar">OR</h1>
    <h1><a class="neonpink" href="/#/register">REGISTER!</a></h1>
    <h1 class="neonbar">OR</h1>
    <h1><a class="neonpink" href="/login42">Login 42</a></h1>
    <div class="neon-button-wrapper">
    </div>
  </section>
  {% else %}
<div class="pong-background">
    <div class="pong-field">
        <div class="pong-paddle pong-paddle-left"></div>
        <div class="pong-paddle pong-paddle-right"></div>
        <div class="pong-ball"></div>
        <div class="ball-trail"></div>
    </div>
</div>
<div class="account-columns">
    <section class="account-column account-highlights">
        <div>
            <h2 class="logo-text-home">You...</h2>
        </div>
        <div id="account-header-left">
            <img class="account-image-home" src="{{img}}" alt="avatar" id="characterImage">
            <div class="account-info-text">
                <h3 class="neonbar neonbar-smallest neonbar-blue">Known as {{nickname}}.</h2>
                <h3 class="neonbar neonbar-smallest neonbar-blue">Level {{level}}.</h2>
            </div>
        </div>
        <div id="account-header-right">
            <div>
                <a class="glow-button purple" href="/#/edit_account">Edit account</a>
            </div>
            <div>
                <button class="glow-button blue" id="notification-button">
                    Send Notification
                </button>
            </div>
        </div>
    </section>
  </section>

  <section class="account-column account-events">
      <div>
        <h2 class="logo-text-home">42pong</h2>
      </div>
      <div>
        <a class="glow-button fuchsia" href="">Create Tournament</a>
      </div>
      <div>
        <a class="glow-button green" href="">Play Now</a>
      </div>
      <div>
        <button class="glow-button red" id="logout-button">Logout</button>
      </div>
  </section>

  <section class="account-column account-section">
    <div class="center-content"> <!-- Nuovo wrapper -->
        <h2 class="logo-text-home">social</h2>
    </div>
    <div class="center-content"> <!-- Nuovo wrapper -->
        <div id="account-header-right">
            <div class="social-element-container">
            <h2 class="friends">Friends</h3>
            <div id="friends-container" class="social-element-container friends">
                
                {% for item in friends %}
                    <div class="single-friend-container">
                        {{ item.username }} <button id="remove-friend-btn" data-username="{{ item.username }}">
                            X
                        </button>
                    </div>
                    
                {% endfor %}
            </div>
        </div>
        <h2 class="friends">Online Users</h3>
            <div id="online-users-container" class="social-element-container friends">
                
                {% for item in online_users %}
                    <div class="online-single-user-container">
                        {{ item.username }}
                    </div>
                {% endfor %}
            </div>
            <h2 class="friends">Friends Request</h3> 
            <div id="friend-request-container" class="social-element-container friends">
                
                {% for item in friend_requests %}
                    <div class="single-friend-request-container">
                        {{ item.username }}
                    </div>
                    <div>
                        <button id="accept-request-btn" data-username="{{ item.username }}">
                            ðŸ—¸
                        </button>
                        <button id="reject-request-btn" data-username="{{ item.username }}">
                            â…¹
                        </button>
                    </div>
                {% endfor %}
            </div>
            <div class="social-element-container">
                <label for="username" class="friends">Invite A fRIEND</label>
                <form id="friend-request-form" class="form-group">
                    
                    <div class="form-group-inner">
                        <input type="text" id="username-friend-request" name="username" class="username-friend-request" required>
                        <button class="glow-button small send" id="friend-request-submit">INVITE</button>
                    </div>
                    <span id="request-username-error" class="error"></span>
                </form>            
            </div>
        </div>
    </div>
</section>

{% endif %}